# Victor AI - Personal AI Companion for Android
# Copyright (C) 2025-2026 Olga Kalinina

# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as published
# by the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU Affero General Public License for more details.

repeat_type_prompt: |
  Ты помощник, который определяет тип напоминания.
  Твоя задача — по исходной фразе пользователя понять,
  является ли напоминание одноразовым или повторяющимся каждую неделю
  (по конкретным дням недели и времени).
  
  Сообщение от пользователя: {input}
  
  Правила:
  
  - Если пользователь явно просит регулярность и использует слова:
    - "каждый", "каждую", "каждые",
    - "по понедельникам / по средам / по выходным / по будням",
    - "еженедельно", "каждую неделю",
    - "каждый день", "каждое утро", "каждый вечер" и т.п.,
    то это повторяющееся недельное напоминание → repeat_weekly = true.
  
  - Если речь про конкретный раз:
    - "завтра", "послезавтра",
    - "в эту среду / в пятницу / в следующий четверг",
    - "через час / через два часа / через 3 дня",
    - конкретную дату: "15 ноября", "1 января",
    то это одноразовое напоминание → repeat_weekly = false.
  
  - Если формулировка двусмысленная, но скорее выглядит как разовая
    (например: "напомни в четверг в 18:00", "напомни как-нибудь вечером"),
    считай её одноразовой → repeat_weekly = false.
  
  - Напоминания вроде:
    - "каждый день в 8:00",
    - "по будням в 7:30",
    - "каждые выходные в 10:00",
    тоже считаются повторяющимися по неделям → repeat_weekly = true.
  
  Примеры:
  
  1)
  "Можешь мне пожалуйста по средам в 18:00 напоминать, что мне к косметологу"
  → repeat_weekly = true
  
  2)
  "Напомни мне пожалуйста, что у меня созвон через час"
  → repeat_weekly = false
  
  3)
  "Каждую субботу в 10 напомни мне про уборку"
  → repeat_weekly = true
  
  4)
  "Напомни в пятницу в 16:00 забрать документы"
  → repeat_weekly = false
  
  5)
  "Каждый день в 21:30 напомни лечь спать"
  → repeat_weekly = true
  
  Ответ верни строго в формате JSON, без комментариев и дополнительного текста:
  {{
    "repeat_weekly": <true или false>
  }}

reminder_parsing_prompt: |
  Ты помощник, который структурирует напоминания.
  
  Текущее время: {now}
  День недели: {weekday}
  Сообщение от пользователя: {input}
  
  Если в сообщении не указано конкретное время суток — всегда выбирай день (с 6:00 до 24:00).
  
  ---
  
  ФОРМУЛИРОВАНИЕ ТЕКСТА НАПОМИНАНИЯ:
  
  Текст напоминания должен быть сформулирован как **intent** — обращение системы к пользователю.
  
  ✅ Хорошие формулировки:
  - "Пора позвонить маме"
  - "Время сходить в магазин"
  - "Не забудь про встречу"
  
  ❌ Плохие формулировки:
  - "Заказать цветы" (слишком сухо, как задача из списка)
  - "Позвонить маме" (не звучит как напоминание)
  
  Используй естественные фразы с глаголами в инфинитиве или повелительном наклонении.
  Добавь лёгкую эмоциональную окраску, если уместно (например, "Пора" вместо "Нужно").
  
  ---
  
  ПРИМЕРЫ:
  
  Пример 1:
  Текущее время: 2025-08-20 12:00
  День недели: wednesday
  Сообщение от пользователя: Напомни мне в пятницу в четыре заказать цветы
  
  Сейчас wednesday → значит friday, через два дня.
  → 2025-08-22 16:00
  
  Ответ:
  {{
    "datetime": "2025-08-22 16:00",
    "text": "Пора заказать цветы"
  }}
  
  ---
  
  Пример 2:
  Текущее время: 2025-08-14 15:00
  День недели: sunday
  Сообщение от пользователя: Напомни мне позвонить маме через час
  
  Сейчас sunday → через час, день не меняется.
  → 2025-08-14 16:00
  
  Ответ:
  {{
    "datetime": "2025-08-14 16:00",
    "text": "Пора позвонить маме"
  }}
  
  ---
  
  Пример 3:
  Текущее время: 2025-08-16 03:30
  День недели: saturday
  Сообщение от пользователя: Напомни мне завтра в 10:00 что у меня созвон
  
  Сейчас 03:30 (ночь), значит пользователь не ложился спать. 10:00  → сегодня.
  
  Ответ:
  {{
    "datetime": "2025-08-16 10:00",
    "text": "Не забудь про созвон"
  }}
  
  ---
  
  Верни ответ строго в JSON формате, не добавляй комментарии:
  {{
    "datetime": "<в формате YYYY-MM-DD HH:MM>",
    "text": "<текст напоминания в формате intent>"
  }}

